<!DOCTYPE html>
<html lang="fr">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Créer un événement</title>
    <meta name="description" content="novameet" />
    <link rel="stylesheet" href="../dist/css/theme.css" />
    <script defer src="../dist/js/theme.js"></script>
  </head>

  <body>
    <!-- ****************************** HEADER ******************************** -->
     <app-header site-name="NovaMett" tagline="Trouve tes events auto" logged-in>
    </app-header>

    <!-- ************************** SECTION PRINCIPALE ************************** -->
    <section class="container_filter">
      <div class="create-event">
        <div class="container_text">
          <h1>Créer un événement</h1>
          <p>
            Organisez votre événement automobile et rassemblez la communauté
          </p>
        </div>

        <!-- *************** Onglets accessibles *************** -->
        <div class="tabs" role="tablist">
          <button
            class="active"
            data-tab="infos"
            role="tab"
            aria-selected="true"
            aria-controls="infos"
            id="tab-infos"
          >
            Informations
          </button>

          <button
            data-tab="details"
            role="tab"
            aria-selected="false"
            aria-controls="details"
            id="tab-details"
          >
            Détails
          </button>

          <button
            data-tab="regles"
            role="tab"
            aria-selected="false"
            aria-controls="regles"
            id="tab-regles"
          >
            Règles & Services
          </button>

          <button
            data-tab="contact"
            role="tab"
            aria-selected="false"
            aria-controls="contact"
            id="tab-contact"
          >
            Contact
          </button>
        </div>

        <!-- =================== ONGLET INFOS =================== -->
        <section
          class="tab-section active"
          id="infos"
          role="tabpanel"
          aria-labelledby="tab-infos"
        >
          <div class="form-card">
            <form class="form-grid">
              <fieldset>
                <legend class="sr-only"><h2>Informations de base</h2></legend>

                <div class="form-group">
                  <label for="event-title">Titre de l’événement *</label>
                  <input
                    type="text"
                    id="event-title"
                    name="title"
                    placeholder="Ex: Rassemblement BMW Classic 2025"
                  />
                </div>

                <div class="form-group">
                  <label for="category">Catégorie *</label>
                  <select id="category" name="category">
                    <option value="">Sélectionner</option>
                    <option value="1">Compétition</option>
                    <option value="2">Rassemblement</option>
                    <option value="3">Mécanique</option>
                    <option value="4">Carshow</option>
                    <option value="5">Offroad</option>
                    <option value="6">Innovation</option>
                    <option value="7">Culture</option>
                  </select>
                </div>

                <div class="pair-dates">
                  <div class="form-group">
                    <label for="start-date">Date de début *</label>
                    <input type="date" id="start-date" name="startDate" />
                  </div>

                  <div class="form-group">
                    <label for="end-date">Date de fin *</label>
                    <input type="date" id="end-date" name="endDate" />
                  </div>
                </div>

                <div class="pair-time">
                  <div class="form-group">
                    <label for="start-time">Heure de début *</label>
                    <input type="time" id="start-time" name="start-time" />
                  </div>

                  <div class="form-group">
                    <label for="end-time">Heure de fin</label>
                    <input type="time" id="end-time" name="end-time" />
                  </div>
                </div>
                <div class="pair-full">
                  <div class="form-group">
                    <label for="price">Prix d’entrée</label>
                    <input
                      type="text"
                      id="price"
                      name="price"
                      placeholder="Gratuit, 15€, 25€/personne…"
                    />
                  </div>
                  <div class="form-group">
                    <label for="city">Ville *</label>
                    <select id="city" name="city">
                      <option value="">-- Sélectionne une ville --</option>
                      <option value="1">Bayonne</option>
                      <option value="2">Biarritz</option>
                      <option value="3">Dax</option>
                      <option value="4">Pau</option>
                      <option value="5">Bordeaux</option>
                    </select>
                  </div>

                  <div class="form-group">
                    <label for="address">Adresse complète *</label>
                    <input
                      type="text"
                      id="address"
                      name="address"
                      placeholder="Ex: 9 Avenue de Paris, 94300 Vincennes"
                    />
                  </div>
                </div>
              </fieldset>
            </form>
          </div>
        </section>

        <!-- =================== ONGLET DÉTAILS =================== -->
        <section
          class="tab-section"
          id="details"
          role="tabpanel"
          aria-labelledby="tab-details"
        >
          <div class="desciption">
            <form>
              <fieldset>
                <legend class="sr-only">Détails de l'événement</legend>

                <div class="form-card">
                  <div class="form-grid">
                    <div class="form-group full">
                      <label for="event-description">Description</label>
                      <input
                        type="text"
                        id="event-description"
                        name="description"
                        placeholder="Décrivez votre événement…"
                      />
                    </div>
                  </div>
                </div>

                <div class="form-card">
                  <div class="form-group full">
                    <label for="tags">Tags</label>

                    <div class="input-with-button">
                      <input
                        type="text"
                        id="tags"
                        name="tag-event"
                        placeholder="Ajoutez des tags..."
                      />
                      <button type="button" onclick="addTagFromInput()">
                        Ajouter
                      </button>
                    </div>

                    <div class="suggested-tags">
                      <span class="tag" onclick="addTag('offroad')"
                        >offroad</span
                      >
                      <span class="tag" onclick="addTag('competition')"
                        >competition</span
                      >
                      <span class="tag" onclick="addTag('drift')">drift</span>
                      <span class="tag" onclick="addTag('classic')"
                        >Classic</span
                      >
                    </div>

                    <label>Tags sélectionnés :</label>
                    <div class="tags-selectionner"></div>
                  </div>
                </div>

                <div class="form-card">
                  <div class="form-group full">
                    <label for="event-image">Image de l'événement</label>

                    <div
                      class="image-upload"
                      role="button"
                      tabindex="0"
                      aria-label="Sélectionner une image"
                      onclick="triggerUpload()"
                    >
                      <span id="upload-text"
                        >Cliquez pour sélectionner une image</span
                      >
                      <input
                        type="file"
                        id="event-image"
                        name="image"
                        accept="image/*"
                      />

                      <div class="image-preview">
                        <img
                          id="preview-image"
                          src=""
                          alt="Aperçu de l’image"
                        />
                        <button
                          type="button"
                          class="remove-image"
                          aria-label="Supprimer l'image"
                          onclick="removeImage(event)"
                        >
                          ✖
                        </button>
                      </div>
                    </div>
                  </div>
                </div>
              </fieldset>
            </form>
          </div>
        </section>

        <!-- =================== ONGLET RÈGLES =================== -->
        <section
          class="tab-section"
          id="regles"
          role="tabpanel"
          aria-labelledby="tab-regles"
        >
          <form>
            <fieldset>
              <legend class="sr-only">Règles et services</legend>

              <div class="form-card">
                <h2>Règlement de l'événement</h2>

                <div class="input-with-button form-group full">
                  <label for="rule-input" class="sr-only"
                    >Ajouter une règle</label
                  >
                  <input
                    type="text"
                    id="rule-input"
                    placeholder="Ajouter une règle"
                  />
                  <button type="button" onclick="addRuleFromInput()">
                    Ajouter
                  </button>
                </div>

                <div class="form-group full">
                  <label>Règles communes</label>
                  <div class="suggested-tags">
                    <span
                      class="tag"
                      onclick="addRule('Respecter les horaires')"
                    >
                      Respecter les horaires
                    </span>
                    <span class="tag" onclick="addRule('Port du casque')">
                      Port du casque
                    </span>
                    <span
                      class="tag"
                      onclick="addRule('Interdiction de jeter des déchets')"
                    >
                      Pas de déchets
                    </span>
                    <span
                      class="tag"
                      onclick="addRule('Suivre les consignes des organisateurs')"
                    >
                      Suivre les consignes
                    </span>
                    <span
                      class="tag"
                      onclick="addRule('Respect des autres participants')"
                    >
                      Respect mutuel
                    </span>
                  </div>
                </div>

                <div class="form-group full">
                  <label>Règles sélectionnées</label>
                  <ul
                    id="rules-list"
                    style="list-style: disc; padding-left: 1.2rem"
                  ></ul>
                </div>
              </div>

              <div class="form-card">
                <h2>Services disponibles</h2>

                <div class="input-with-button form-group full">
                  <label for="service-input" class="sr-only"
                    >Ajouter un service</label
                  >
                  <input
                    type="text"
                    id="service-input"
                    placeholder="Ajouter un service..."
                  />
                  <button type="button" onclick="addServiceFromInput()">
                    Ajouter
                  </button>
                </div>

                <div class="form-group full">
                  <label>Services courants</label>
                  <div class="suggested-tags">
                    <span class="tag" onclick="addService('Parking sécurisé')"
                      >Parking sécurisé</span
                    >
                    <span
                      class="tag"
                      onclick="addService('Toilettes publiques')"
                      >Toilettes publiques</span
                    >
                    <span
                      class="tag"
                      onclick="addService('Restaurant sur place')"
                      >Restaurant sur place</span
                    >
                    <span class="tag" onclick="addService('Animations enfants')"
                      >Animations enfants</span
                    >
                    <span class="tag" onclick="addService('Sécurité sur place')"
                      >Sécurité sur place</span
                    >
                  </div>
                </div>

                <div class="form-group full">
                  <label>Services sélectionnés</label>
                  <ul
                    id="services-list"
                    style="list-style: disc; padding-left: 1.2rem"
                  ></ul>
                </div>
              </div>
            </fieldset>
          </form>
        </section>

        <!-- =================== ONGLET CONTACT =================== -->
        <section
          class="tab-section"
          id="contact"
          role="tabpanel"
          aria-labelledby="tab-contact"
        >
          <form>
            <fieldset>
              <legend class="sr-only">Contact et organisation</legend>

              <div class="form-card">
                <h2>Informations de contact</h2>

                <div class="form-grid">
                  <div class="form-group">
                    <label for="phone">Téléphone</label>
                    <input
                      type="tel"
                      id="phone"
                      placeholder="Ex: +33 6 12 34 56 78"
                      aria-describedby="phone-help"
                    />
                    <small id="phone-help" class="sr-only"
                      >Format : +33 suivi du numéro</small
                    >
                  </div>

                  <div class="form-group">
                    <label for="email">Email</label>
                    <input
                      type="email"
                      id="email"
                      placeholder="Ex: contact@evenement.com"
                    />
                  </div>

                  <div class="form-group">
                    <label for="website">Site Web</label>
                    <input
                      type="url"
                      id="website"
                      placeholder="Ex: www.moneventauto.fr"
                    />
                  </div>

                  <div class="form-group">
                    <label for="social">Réseaux sociaux</label>
                    <input
                      type="text"
                      id="social"
                      placeholder="Ex: @evenement_auto"
                    />
                  </div>
                </div>
              </div>

              <div class="form-card">
                <h2>Organisation</h2>

                <div class="form-grid">
                  <div class="form-group">
                    <label for="organizer-name">Nom de l'organisateur</label>
                    <input
                      type="text"
                      id="organizer-name"
                      name="nameOrganizer"
                      placeholder="Ex: NovaAuto Events"
                    />
                  </div>

                  <div class="form-group full">
                    <label for="org-description"
                      >Description de l'organisation</label
                    >
                    <textarea
                      id="org-description"
                      rows="4"
                      name="desicriptionOrg"
                      placeholder="Parlez de votre organisation..."
                    ></textarea>
                  </div>
                </div>
              </div>
            </fieldset>
          </form>

          <button type="submit" id="createvent" class="btn btn-red">
            Créer un nouvel événement
          </button>
        </section>
      </div>
    </section>

      <div id="popup-overlay" class="hidden">
      <div id="popup-content"></div>
    </div>
  </body>

  <script type="module" src="../assets/scripts/base.js"></script>
  <script type="module" src="../assets/scripts/api/creatEvent.js"></script>
  <script type="module" src="../assets/scripts/action/addEvent.js"></script>
  <script type="module" src="../assets/scripts/api/addImages.js"></script>
  <script type="module" src="../assets/scripts/action/imageUpdate.js"></script>
  <script type="module" src="../assets/scripts/action/initTabs.js"></script>
</html>
